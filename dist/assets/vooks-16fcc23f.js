import{r as l,J as c,w as q,n as m,g as X,j as V,h as g,k as I,E as Y}from"./@vue-fa1c5c1f.js";import{o as v,a as p}from"./evtd-b614532e.js";function ee(e){const n=l(!!e.value);if(n.value)return c(n);const t=q(e,u=>{u&&(n.value=!0,t())});return c(n)}function ne(e){const n=m(e),t=l(n.value);return q(n,u=>{t.value=u}),typeof e=="function"?t:{__v_isRef:!0,get value(){return t.value},set value(u){e.set(u)}}}function $(){return X()!==null}const L=typeof window<"u";let y,E;const J=()=>{var e,n;y=L?(n=(e=document)===null||e===void 0?void 0:e.fonts)===null||n===void 0?void 0:n.ready:void 0,E=!1,y!==void 0?y.then(()=>{E=!0}):E=!0};J();function te(e){if(E)return;let n=!1;V(()=>{E||y==null||y.then(()=>{n||e()})}),g(()=>{n=!0})}const M=l(null);function D(e){if(e.clientX>0||e.clientY>0)M.value={x:e.clientX,y:e.clientY};else{const{target:n}=e;if(n instanceof Element){const{left:t,top:u,width:o,height:i}=n.getBoundingClientRect();t>0||u>0?M.value={x:t+o/2,y:u+i/2}:M.value={x:0,y:0}}else M.value=null}}let C=0,H=!0;function ie(){if(!L)return c(l(null));C===0&&v("click",document,D,!0);const e=()=>{C+=1};return H&&(H=$())?(I(e),g(()=>{C-=1,C===0&&p("click",document,D,!0)})):e(),c(M)}const K=l(void 0);let T=0;function R(){K.value=Date.now()}let S=!0;function ae(e){if(!L)return c(l(!1));const n=l(!1);let t=null;function u(){t!==null&&window.clearTimeout(t)}function o(){u(),n.value=!0,t=window.setTimeout(()=>{n.value=!1},e)}T===0&&v("click",window,R,!0);const i=()=>{T+=1,v("click",window,o,!0)};return S&&(S=$())?(I(i),g(()=>{T-=1,T===0&&p("click",window,R,!0),p("click",window,o,!0),u()})):i(),c(n)}let x=0;const O=typeof window<"u"&&window.matchMedia!==void 0,w=l(null);let r,k;function B(e){e.matches&&(w.value="dark")}function P(e){e.matches&&(w.value="light")}function Q(){r=window.matchMedia("(prefers-color-scheme: dark)"),k=window.matchMedia("(prefers-color-scheme: light)"),r.matches?w.value="dark":k.matches?w.value="light":w.value=null,r.addEventListener?(r.addEventListener("change",B),k.addEventListener("change",P)):r.addListener&&(r.addListener(B),k.addListener(P))}function z(){"removeEventListener"in r?(r.removeEventListener("change",B),k.removeEventListener("change",P)):"removeListener"in r&&(r.removeListener(B),k.removeListener(P)),r=void 0,k=void 0}let F=!0;function ue(){return O?(x===0&&Q(),F&&(F=$())&&(I(()=>{x+=1}),g(()=>{x-=1,x===0&&z()})),c(w)):c(w)}function oe(e,n){return q(e,t=>{t!==void 0&&(n.value=t)}),m(()=>e.value===void 0?n.value:e.value)}function se(){const e=l(!1);return V(()=>{e.value=!0}),c(e)}function re(e,n){return m(()=>{for(const t of n)if(e[t]!==void 0)return e[t];return e[n[n.length-1]]})}const A=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function fe(){return A}const G={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function W(e){return`(min-width: ${e}px)`}const b={};function U(e=G){if(!L)return m(()=>[]);if(typeof window.matchMedia!="function")return m(()=>[]);const n=l({}),t=Object.keys(e),u=(o,i)=>{o.matches?n.value[i]=!0:n.value[i]=!1};return t.forEach(o=>{const i=e[o];let s,f;b[i]===void 0?(s=window.matchMedia(W(i)),s.addEventListener?s.addEventListener("change",a=>{f.forEach(d=>{d(a,o)})}):s.addListener&&s.addListener(a=>{f.forEach(d=>{d(a,o)})}),f=new Set,b[i]={mql:s,cbs:f}):(s=b[i].mql,f=b[i].cbs),f.add(u),s.matches&&f.forEach(a=>{a(s,o)})}),g(()=>{t.forEach(o=>{const{cbs:i}=b[e[o]];i.has(u)&&i.delete(u)})}),m(()=>{const{value:o}=n;return t.filter(i=>o[i])})}function le(e){if(!L)return m(()=>{});const n=e!==void 0?U(e):U();return m(()=>{const{value:t}=n;if(t.length!==0)return t[t.length-1]})}function ce(e={},n){const t=Y({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:u,keyup:o}=e,i=a=>{switch(a.key){case"Control":t.ctrl=!0;break;case"Meta":t.command=!0,t.win=!0;break;case"Shift":t.shift=!0;break;case"Tab":t.tab=!0;break}u!==void 0&&Object.keys(u).forEach(d=>{if(d!==a.key)return;const h=u[d];if(typeof h=="function")h(a);else{const{stop:j=!1,prevent:_=!1}=h;j&&a.stopPropagation(),_&&a.preventDefault(),h.handler(a)}})},s=a=>{switch(a.key){case"Control":t.ctrl=!1;break;case"Meta":t.command=!1,t.win=!1;break;case"Shift":t.shift=!1;break;case"Tab":t.tab=!1;break}o!==void 0&&Object.keys(o).forEach(d=>{if(d!==a.key)return;const h=o[d];if(typeof h=="function")h(a);else{const{stop:j=!1,prevent:_=!1}=h;j&&a.stopPropagation(),_&&a.preventDefault(),h.handler(a)}})},f=()=>{(n===void 0||n.value)&&(v("keydown",document,i),v("keyup",document,s)),n!==void 0&&q(n,a=>{a?(v("keydown",document,i),v("keyup",document,s)):(p("keydown",document,i),p("keyup",document,s))})};return $()?(I(f),g(()=>{(n===void 0||n.value)&&(p("keydown",document,i),p("keyup",document,s))})):f(),c(t)}export{fe as a,oe as b,re as c,ce as d,ae as e,ie as f,U as g,ee as h,se as i,ue as j,le as k,te as o,ne as u};
