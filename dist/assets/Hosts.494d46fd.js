import{r as g,m as M,p as S,c as j,w as c,i as u,a as i,o as s,b as o,d as r,e as a,f,h as e,F as b,t as _,j as E,g as k,v as y}from"./index.159ef66f.js";import{_ as I}from"./list.83618aa3.js";const L=e("h3",null,"\u8BA1\u8D39\u9879\u76EE\u5217\u8868",-1),U=e("p",null," \u6CE8\u610F: \u90E8\u5206\u670D\u52A1\u4F1A\u63A5\u7BA1\u4EF7\u683C\u3002\u4EF7\u683C\u88AB\u63A5\u7BA1\u540E\uFF0C\u6211\u4EEC\u5C06\u4E0D\u4F1A\u81EA\u52A8\u6263\u8D39\uFF0C\u6263\u8D39\u63A7\u5236\u6743\u5C06\u4EA4\u7ED9\u5BF9\u5E94\u670D\u52A1\u3002 ",-1),O=e("p",null,"\u5982\u679C\u4EF7\u683C\u88AB\u63A5\u7BA1\uFF0C\u5219\u53EF\u80FD\u662F\u6309\u91CF\u8BA1\u8D39\u7B49\u3002",-1),T={class:"overflow-auto"},q={class:"table"},z=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"\u670D\u52A1"),e("th",{scope:"col"},"\u540D\u79F0"),e("th",{scope:"col"},"\u5143 / \u6708(\u5927\u7EA6)"),e("th",{scope:"col"},"\u672C\u6708\u6D88\u8017"),e("th",{scope:"col"},"\u72B6\u6001"),e("th",{scope:"col"},"\u51E0\u5206\u6263\u8D39"),e("th",{scope:"col"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col"},"\u91CA\u653E")])],-1),A={key:0,class:"text-success"},G=e("br",null,null,-1),J={key:1,class:"text-success"},K={key:2,class:"text-danger"},P={key:0},Q={key:1},R={key:0},W=e("span",{class:"text-success"},[e("i",{class:"bi bi-check-circle"}),r(" \xA0\u8FD0\u884C\u4E2D")],-1),X=[W],Y={key:1},Z=e("span",{class:"text-warning"},[e("i",{class:"bi bi-clock-history"}),r(" \xA0\u7B49\u5F85\u4E2D")],-1),ee=[Z],te={key:2},ne=e("span",{class:"text-danger"},[e("i",{class:"bi bi-x-circle"}),r(" \xA0\u5DF2\u6682\u505C ")],-1),se=[ne],ae={key:3},oe=e("span",{class:"text-danger"},[e("i",{class:"bi bi-x-circle"}),r(" \xA0\u5DF2\u505C\u6B62 ")],-1),le=[oe],ce=e("p",null,"\u5F53\u60A8\u91CA\u653E\u8D44\u6E90\u540E\uFF0C\u6211\u4EEC\u5C06\u4F1A\u5728\u540E\u53F0\u6392\u961F\u5904\u7406\uFF0C\u8FD9\u53EF\u80FD\u9700\u8981\u4E00\u4E9B\u65F6\u95F4\u3002",-1),ie=e("p",null,"\u8BF7\u6CE8\u610F: \u4F59\u989D \u8BA1\u7B97\u5E76\u4E0D\u51C6\u786E\u3002\u5B83\u53EF\u80FD\u4E0E\u5B9E\u9645\u83B7\u5F97\u6709\u70B9\u504F\u5DEE\u3002",-1),re=e("p",null,"\u73B0\u5728\uFF0C\u8BA1\u8D39\u5DF2\u7ECF\u6539\u4E3A\u6BCF\u5C0F\u65F6\u4E00\u6B21\u3002\u5728\u6BCF\u5C0F\u65F6\u7684\u7B2C\u51E0\u5206\u6263\u8D39\u3002",-1),_e={data:()=>({drawer:111})},me=Object.assign(_e,{__name:"Hosts",setup(de){const v=g([]),m=g([]);function d(){u.get("/hosts").then(n=>{v.value=n.data}).catch(n=>{console.log(n)}),u.get("/hosts/usages").then(n=>{m.value=n.data}).catch(n=>{console.log(n)})}function w(n){confirm("\u91CA\u653E\u540E\uFF0C\u60A8\u5C06\u65E0\u6CD5\u518D\u6B21\u4F7F\u7528\u6B64\u8D44\u6E90\uFF0C\u5B83\u7684\u6570\u636E\u5C06\u4F1A\u88AB\u5F7B\u5E95\u5220\u9664\u5E76\u4E14\u65E0\u6CD5\u627E\u56DE\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F")&&u.delete("/hosts/"+n).then(l=>{d()})}function x(n){u.patch("/hosts/"+n,{status:"running"}).then(l=>{l.status==400?alert(l.data.message):d()}).catch(()=>{alert("\u65E0\u6CD5\u89E3\u9664\u6682\u505C\u3002\u53EF\u80FD\u662F\u60A8\u7684\u4F59\u989D\u4E0D\u8DB3\u3002")})}return M(()=>{d();const n=setInterval(d,5e3);S(()=>{clearInterval(n)})}),(n,l)=>{const C=i("v-app-bar-nav-icon"),V=i("v-toolbar-title"),B=i("v-app-bar"),D=i("v-navigation-drawer"),h=i("v-btn"),N=i("v-container"),$=i("v-main"),F=i("v-app");return s(),j(F,{id:"inspire"},{default:c(()=>[o(B,{color:"primary"},{default:c(()=>[o(C,{onClick:l[0]||(l[0]=p=>n.drawer=!n.drawer)}),o(V,null,{default:c(()=>[r("MirrorEdge Frp \u63A7\u5236\u9762\u677F")]),_:1})]),_:1}),o(D,{modelValue:n.drawer,"onUpdate:modelValue":l[1]||(l[1]=p=>n.drawer=p),"expand-on-hover":"",rail:"",permanent:""},{default:c(()=>[o(I)]),_:1},8,["modelValue"]),o($,null,{default:c(()=>[o(N,null,{default:c(()=>[(s(),a(b,null,f(1,p=>e("div",{key:p},[L,U,O,e("div",T,[e("table",q,[z,e("tbody",null,[(s(!0),a(b,null,f(v.value,t=>(s(),a("tr",null,[e("td",null,_(t.module.name),1),e("td",null,_(t.name),1),e("td",null,[t.managed_price!==null?(s(),a("span",A,[r(_(t.managed_price)+" \u5143 / \u6708 ",1),G])):t.price>0?(s(),a("span",J,_(t.price)+" \u5143 / \u6708 ",1)):t.price==0&&(t.managed_price==0||t.managed_price==null)?(s(),a("span",K," \u88AB\u63A5\u7BA1 ")):E("",!0)]),e("td",null,[m.value.balances[t.id]?(s(),a("span",P,_(m.value.balances[t.id])+" \u5143 ",1)):(s(),a("span",Q," 0 \u5143 "))]),e("td",null,[t.status=="running"?(s(),a("span",R,X)):t.status=="pending"?(s(),a("span",Y,ee)):t.status=="suspended"?(s(),a("span",te,se)):(s(),a("span",ae,le))]),e("td",null,_(new Date(t.created_at).getMinutes())+" \u5206",1),e("td",null,_(new Date(t.created_at).toLocaleString()),1),e("td",null,[o(h,{color:"primary",href:"#",onClick:H=>w(t.id)},{default:c(()=>[r("\u91CA\u653E")]),_:2},1032,["onClick"]),k(e("span",null,"\xA0",512),[[y,t.status=="suspended"||t.status=="stopped"]]),k(o(h,{color:"primary",href:"#",onClick:H=>x(t.id)},{default:c(()=>[r("\u542F\u52A8")]),_:2},1032,["onClick"]),[[y,t.status=="suspended"||t.status=="stopped"]])])]))),256))])])]),ce,ie,re])),64))]),_:1})]),_:1})]),_:1})}}});export{me as default};
