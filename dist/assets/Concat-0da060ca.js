import{r,c as x,a as m,O as n,P as c,I as s,z as y,v as N,Y as b,F as C,o as d,e as g}from"./@vue-fa1c5c1f.js";import{i as h}from"./http-78f45fb6.js";import{m as B}from"./layout-4b72ee2f.js";import{c as S,S as T,a2 as $,J as E,a3 as V,a4 as W}from"./naive-ui-24262aab.js";import"./axios-c47e0cf1.js";import"./form-data-d2a9677b.js";import"./router-325b049e.js";import"./vue-router-c4b6792e.js";import"./user-a1f28023.js";import"./vuex-3133efbc.js";import"./500-07d896ca.js";import"./Lottie-739291b6.js";import"./lottie-web-94c7854d.js";import"./date-fns-bca8c9b2.js";import"./seemly-4f9c12c5.js";import"./vueuc-ea3f9c0c.js";import"./evtd-b614532e.js";import"./@css-render-43d82e32.js";import"./vooks-16fcc23f.js";import"./vdirs-b0483831.js";import"./@juggle-41516555.js";import"./css-render-d3958e6a.js";import"./@emotion-8a8e73f6.js";import"./lodash-es-cabc0acd.js";import"./treemate-25c27bff.js";import"./async-validator-dee29e8b.js";import"./404-cdb51896.js";const z={class:"mt-5 overflow-auto",style:{position:"relative"}},F={style:{position:"fixed",right:"4%",top:"26%"}},pe={__name:"Concat",setup(D){const v=r([]),p=r(""),_=r([]);function f(t){navigator.clipboard.writeText(t),B.success("复制成功")}h.get("/modules/frp/servers").then(t=>{v.value=t.data.map(e=>({label:e.name,value:e.id}))});const l=r(""),o=r(""),u=r(!1);function w(){h.get("/modules/frp/hosts?with_config=1&&server_id="+p.value).then(t=>{t.data.length>0?(u.value=!0,_.value=t.data,l.value=t.data[0].config.server,o.value=t.data[0].config.server,t.data.forEach(({config:e,name:i,server:k})=>{e.client.split(`
`).forEach(a=>{l.value+=`
`+a,a.startsWith("[")&&a.endsWith("]")?o.value+=`

# 隧道 "${i}" 在 "${k.name}" 上
`+a.substring(0,a.length-10).concat("*".repeat(10),"]"):o.value+=`
`+a})})):(o.value="这个服务器下没有隧道。",u.value=!1)})}return(t,e)=>(d(),x(C,null,[m("div",null,[n(s(S),{prefix:"bar"},{default:c(()=>[n(s(T),{type:"primary"},{default:c(()=>[g(" 配置文件 ")]),_:1})]),_:1}),n(s($),{value:p.value,"onUpdate:value":[e[0]||(e[0]=i=>p.value=i),w],options:v.value,placeholder:"选择服务器"},null,8,["value","options"]),y(m("div",z,[m("div",F,[n(s(E),{type:"primary",onClick:e[1]||(e[1]=i=>f(l.value))},{default:c(()=>[g("复制")]),_:1})]),n(s(V),{code:o.value,"show-line-numbers":u.value,class:"select-none",language:"ini",trim:"",onClick:e[2]||(e[2]=i=>f(l.value))},null,8,["code","show-line-numbers"])],512),[[N,o.value]])]),(d(),b(s(W),{key:0,content:"别泄漏隧道名和 Token",cross:"",fullscreen:"","font-size":16,"line-height":16,width:384,height:384,"x-offset":12,"y-offset":60,rotate:-15}))],64))}};export{pe as default};
