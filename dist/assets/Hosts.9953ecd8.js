import{r as m,m as H,p as M,c as S,w as _,i as p,a as l,o as n,b as c,d,e as a,f as g,h as e,F as f,t as i,j,g as b,v as k}from"./index.077803ac.js";import{_ as E}from"./list.c2b2457a.js";const I=e("h3",null,"\u8BA1\u8D39\u9879\u76EE\u5217\u8868",-1),L=e("p",null," \u6CE8\u610F: \u90E8\u5206\u670D\u52A1\u4F1A\u63A5\u7BA1\u4EF7\u683C\u3002\u4EF7\u683C\u88AB\u63A5\u7BA1\u540E\uFF0C\u6211\u4EEC\u5C06\u4E0D\u4F1A\u81EA\u52A8\u6263\u8D39\uFF0C\u6263\u8D39\u63A7\u5236\u6743\u5C06\u4EA4\u7ED9\u5BF9\u5E94\u670D\u52A1\u3002 ",-1),U=e("p",null,"\u5982\u679C\u4EF7\u683C\u88AB\u63A5\u7BA1\uFF0C\u5219\u53EF\u80FD\u662F\u6309\u91CF\u8BA1\u8D39\u7B49\u3002",-1),O={class:"overflow-auto"},T={class:"table"},q=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"\u670D\u52A1"),e("th",{scope:"col"},"\u540D\u79F0"),e("th",{scope:"col"},"\u5143 / \u6708(\u5927\u7EA6)"),e("th",{scope:"col"},"\u672C\u6708\u6D88\u8017"),e("th",{scope:"col"},"\u72B6\u6001"),e("th",{scope:"col"},"\u51E0\u5206\u6263\u8D39"),e("th",{scope:"col"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col"},"\u91CA\u653E")])],-1),z={key:0,class:"text-success"},A=e("br",null,null,-1),G={key:1,class:"text-success"},J={key:2,class:"text-danger"},K={key:0},P={key:1},Q={key:0},R=e("span",{class:"text-success"},[e("i",{class:"bi bi-check-circle"}),d(" \xA0\u8FD0\u884C\u4E2D")],-1),W=[R],X={key:1},Y=e("span",{class:"text-warning"},[e("i",{class:"bi bi-clock-history"}),d(" \xA0\u7B49\u5F85\u4E2D")],-1),Z=[Y],ee={key:2},te=e("span",{class:"text-danger"},[e("i",{class:"bi bi-x-circle"}),d(" \xA0\u5DF2\u6682\u505C ")],-1),se=[te],ne={key:3},ae=e("span",{class:"text-danger"},[e("i",{class:"bi bi-x-circle"}),d(" \xA0\u5DF2\u505C\u6B62 ")],-1),oe=[ae],le=["onClick"],ce=["onClick"],ie=e("p",null,"\u5F53\u60A8\u91CA\u653E\u8D44\u6E90\u540E\uFF0C\u6211\u4EEC\u5C06\u4F1A\u5728\u540E\u53F0\u6392\u961F\u5904\u7406\uFF0C\u8FD9\u53EF\u80FD\u9700\u8981\u4E00\u4E9B\u65F6\u95F4\u3002",-1),_e=e("p",null,"\u8BF7\u6CE8\u610F: \u4F59\u989D \u8BA1\u7B97\u5E76\u4E0D\u51C6\u786E\u3002\u5B83\u53EF\u80FD\u4E0E\u5B9E\u9645\u83B7\u5F97\u6709\u70B9\u504F\u5DEE\u3002",-1),de=e("p",null,"\u73B0\u5728\uFF0C\u8BA1\u8D39\u5DF2\u7ECF\u6539\u4E3A\u6BCF\u5C0F\u65F6\u4E00\u6B21\u3002\u5728\u6BCF\u5C0F\u65F6\u7684\u7B2C\u51E0\u5206\u6263\u8D39\u3002",-1),re={data:()=>({drawer:111})},ve=Object.assign(re,{__name:"Hosts",setup(ue){const v=m([]),h=m([]);function r(){p.get("/hosts").then(s=>{v.value=s.data}).catch(s=>{console.log(s)}),p.get("/hosts/usages").then(s=>{h.value=s.data}).catch(s=>{console.log(s)})}function w(s){confirm("\u91CA\u653E\u540E\uFF0C\u60A8\u5C06\u65E0\u6CD5\u518D\u6B21\u4F7F\u7528\u6B64\u8D44\u6E90\uFF0C\u5B83\u7684\u6570\u636E\u5C06\u4F1A\u88AB\u5F7B\u5E95\u5220\u9664\u5E76\u4E14\u65E0\u6CD5\u627E\u56DE\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F")&&p.delete("/hosts/"+s).then(o=>{r()})}function y(s){p.patch("/hosts/"+s,{status:"running"}).then(o=>{o.status==400?alert(o.data.message):r()}).catch(()=>{alert("\u65E0\u6CD5\u89E3\u9664\u6682\u505C\u3002\u53EF\u80FD\u662F\u60A8\u7684\u4F59\u989D\u4E0D\u8DB3\u3002")})}return H(()=>{r();const s=setInterval(r,5e3);M(()=>{clearInterval(s)})}),(s,o)=>{const x=l("v-app-bar-nav-icon"),C=l("v-toolbar-title"),V=l("v-app-bar"),B=l("v-navigation-drawer"),D=l("v-container"),N=l("v-main"),$=l("v-app");return n(),S($,{id:"inspire"},{default:_(()=>[c(V,null,{default:_(()=>[c(x,{onClick:o[0]||(o[0]=u=>s.drawer=!s.drawer)}),c(C,null,{default:_(()=>[d("MirrorEdge Frp \u63A7\u5236\u9762\u677F")]),_:1})]),_:1}),c(B,{modelValue:s.drawer,"onUpdate:modelValue":o[1]||(o[1]=u=>s.drawer=u),"expand-on-hover":"",rail:"",permanent:""},{default:_(()=>[c(E)]),_:1},8,["modelValue"]),c(N,null,{default:_(()=>[c(D,null,{default:_(()=>[(n(),a(f,null,g(1,u=>e("div",{key:u},[I,L,U,e("div",O,[e("table",T,[q,e("tbody",null,[(n(!0),a(f,null,g(v.value,t=>(n(),a("tr",null,[e("td",null,i(t.module.name),1),e("td",null,i(t.name),1),e("td",null,[t.managed_price!==null?(n(),a("span",z,[d(i(t.managed_price)+" \u5143 / \u6708 ",1),A])):t.price>0?(n(),a("span",G,i(t.price)+" \u5143 / \u6708 ",1)):t.price==0&&(t.managed_price==0||t.managed_price==null)?(n(),a("span",J," \u88AB\u63A5\u7BA1 ")):j("",!0)]),e("td",null,[h.value.balances[t.id]?(n(),a("span",K,i(h.value.balances[t.id])+" \u5143 ",1)):(n(),a("span",P," 0 \u5143 "))]),e("td",null,[t.status=="running"?(n(),a("span",Q,W)):t.status=="pending"?(n(),a("span",X,Z)):t.status=="suspended"?(n(),a("span",ee,se)):(n(),a("span",ne,oe))]),e("td",null,i(new Date(t.created_at).getMinutes())+" \u5206",1),e("td",null,i(new Date(t.created_at).toLocaleString()),1),e("td",null,[e("a",{href:"#",onClick:F=>w(t.id)},"\u91CA\u653E",8,le),b(e("span",null,"\xA0",512),[[k,t.status=="suspended"||t.status=="stopped"]]),b(e("a",{href:"#",onClick:F=>y(t.id)},"\u542F\u52A8",8,ce),[[k,t.status=="suspended"||t.status=="stopped"]])])]))),256))])])]),ie,_e,de])),64))]),_:1})]),_:1})]),_:1})}}});export{ve as default};
